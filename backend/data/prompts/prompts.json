{
  "INT": {
    "biopsygrading-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.\n\nOutput strictly in the following format:\nBiopsy grading (FNCLCC): [value].\n\nThe values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.\n\n# Output Format (JSON)\nYou MUST output a JSON object with the following structure:\n{\n  \"evidence\": \"The exact literal phrase or sentence from the note that supports this annotation. This will be used to highlight evidence in the text.\",\n  \"reasoning\": \"Explanation of the logic used to map the natural language to the standard value. Include: 1) Clinical Validation (current vs PMH vs suspicion), 2) Inference steps.\",\n  \"final_output\": \"The final annotation text following the exact template format: 'Biopsy grading (FNCLCC): [value].'\",\n  \"is_negated\": false,\n  \"date\": null\n}\n\n# Field Guidelines:\n- **evidence**: Must be an exact quote or sentence from the note. Use empty string if no direct evidence found.\n- **reasoning**: Explain your clinical validation and inference logic clearly.\n- **final_output**: Must match the template format exactly.\n- **is_negated**: Set to true if the annotation indicates absence, negation, or negative finding (e.g., 'no evidence', 'absence of', 'ruled out').\n- **date**: Include only if the annotation contains date information. Use {\"date_value\": \"DD/MM/YYYY\", \"source\": \"extracted_from_text\"} if date is in the note, or {\"date_value\": \"DD/MM/YYYY\", \"source\": \"derived_from_csv\", \"csv_date\": \"DD/MM/YYYY\"} if using CSV date.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n- CSV Date: {{csv_date}}\n\n### Response (JSON only, no other text):\n```json",
      "entity_mapping": {
        "entity_type": "Diagnosis.biopsyGrading",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "grading",
            "value_code_mappings": {
              "1": "1634371",
              "2": "1634752"
            }
          }
        ]
      }
    },
    "surgerymargins-int": {
      "template": "Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.\nAlways output the result in the following format:\nMargins after surgery: [R0 or R1 or R2]\n\nR0 (radical, tumor-free margins):\n\nImportant: A “small but clear” margin = still R0.\n\nOutput only the classification in the required format. Do not add explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\n```json\n",
      "entity_mapping": {
        "entity_type": "Surgery.marginsAfterSurgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "tumordepth-int": {
      "template": "You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.\n\nTask:\nFrom the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.\n\nOutput format (exact):\nAnnotation: Tumor depth: [superficial|deep].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note. Notes might be in any language. Identify the sentences in the corresponding language.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\n```json",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[superficial|deep]",
            "entity_type": "Diagnosis",
            "field_name": "deepDepth"
          }
        ]
      }
    },
    "biopsymitoticcount-int": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. \nIdentify the biopsy mitotic count from the provided medical note and output it exactly in the following format:\n\nFormat:\nBiopsy mitotic count: [value]HPF/mm2.\n(If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)\n\nDo not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyMitoticCount"
          }
        ]
      }
    },
    "gender-int": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from medical notes. \nIdentify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:\n\nFormat:\nPatient's gender [male/female/unknown].\n\nDo not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient.sex",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[male/female/unknown]",
            "entity_type": "Patient",
            "field_name": "sex"
          }
        ]
      }
    },
    "reexcision-int": {
      "template": "You are a clinical information extraction assistant specialized in oncological surgery documentation.\nYour task: From the given medical note, extract re-excision (radicalization) information, including:\n1. The date when the re-excision was performed (if mentioned).\n2. Whether it was macroscopically complete, incomplete, or if such information is unknown.\n\nFormats:\nRe-excision was performed on [provide date] and was macroscopically [complete/incomplete]. \n\nNotes:\nIf the date is missing, output [put date] in the format.\nIf the result is missing, output [select result] in the format.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[provide date]",
            "entity_type": "Surgery",
            "field_name": "dateOfSurgery"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "surgeryType",
            "hardcoded_value": "4315400"
          },
          {
            "template_placeholder": "[complete/incomplete]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "necrosis_in_biopsy-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.\n\nPossible Output Formats (use only one):\nNecrosis in biopsy specimen (type of): [percentage value] of tumor.\nNecrosis in biopsy specimen (type of): absent.\nNecrosis in biopsy specimen (type of): none.\nNecrosis in biopsy specimen (type of): present.\nNecrosis in biopsy specimen (type of): unknown.\n\nDo not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyGrading"
          }
        ]
      }
    },
    "previous_cancer_treatment-int": {
      "template": "Task:\nYou are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.\nIf treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.\n\nAlways present the output in the following structured format and in English:\nAnnotation: Previous cancer treatment: [select one option].\n\nAllowed output options (strictly select one):\n\nPrevious cancer treatment: radiation, chemotherapy.\nPrevious cancer treatment: radiation, other.\nPrevious cancer treatment: radiation, surgery, other.\nPrevious cancer treatment: surgery, chemotherapy, radiation, other.\nPrevious cancer treatment: surgery, radiation, other.\nPrevious cancer treatment: surgery, radiation.\nPrevious cancer treatment: surgery.\n\nIf the note does not contain sufficient information to determine the category, select the most appropriate of:\nNo previous cancer treatments.\nNo previous or concurrent cancers.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select one option]",
            "entity_type": "Patient",
            "field_name": "previousCancerTreatment"
          }
        ]
      }
    },
    "chemotherapy_start-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.\npost-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.\n\nNotes:\nIf the date is missing, output [provide date].\nIf the regimen is missing, output [select regimen].\nIf the intent is missing, output [select intent].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intent]",
            "entity_type": "SystemicTreatment",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "startDateSystemicTreatment"
          },
          {
            "template_placeholder": "[select regimen]",
            "entity_type": "SystemicTreatment",
            "field_name": "regimen"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "surgerytype-fs30-int": {
      "template": "Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.\n\n1. If a surgery is described, always return:\n   - Whether it was **Primary surgery** or simply **Surgery**.\n   - The **date of surgery** in DD/MM/YYYY format.\n   - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** \n     (if margins or completeness are not explicitly mentioned).\n\n2. If no surgery information exists, return nothing.\n\nYour answer must follow exactly one of these formats:\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n\nDo not add any explanations. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "surgeryType"
          },
          {
            "template_placeholder": "DD/MM/YYYY",
            "entity_type": "Surgery",
            "field_name": "dateOfSurgery"
          },
          {
            "template_placeholder": "[complete/incomplete]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "radiotherapy_start-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. \npost-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. \n\nNotes:\nIf the date is missing, output [put date].\nIf the place is missing, output [please select where].\nIf the intention is missing, output [select intention].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intention]",
            "entity_type": "Radiotherapy",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[please select where]",
            "entity_type": "Radiotherapy",
            "field_name": "radiotherapyHospital"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "startDate"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Radiotherapy",
            "field_name": "setting"
          }
        ]
      }
    },
    "recurrencetype-int": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return \"None\".\n\nOutput strictly in the following format:\nAnnotation: Type of recurrence/progression: [selected type] .\n\nPossible Output Templates:\nType of recurrence/progression: local.\nType of recurrence/progression: local [select site if metastatic].\nType of recurrence/progression: metastatic.\nType of recurrence/progression: metastatic bone, soft tissue.\nType of recurrence/progression: metastatic bone.\nType of recurrence/progression: metastatic brain.\nType of recurrence/progression: metastatic liver, lung, bone.\nType of recurrence/progression: metastatic liver.\nType of recurrence/progression: metastatic lung, bone, soft tissue.\nType of recurrence/progression: metastatic lung, soft tissue.\nType of recurrence/progression: metastatic lung.\nType of recurrence/progression: metastatic other, soft tissue.\nType of recurrence/progression: metastatic other.\nType of recurrence/progression: metastatic soft tissue, lung, other.\nType of recurrence/progression: metastatic soft tissue.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "DiseaseExtent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[selected type]",
            "entity_type": "DiseaseExtent",
            "field_name": "localised"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          }
        ]
      }
    },
    "radiotherapy_end-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\npost-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\n\nNotes:\nIf the date is missing, output [put date].\nIf the reason is missing, output [select reason].\nIf the dose is missing, output [put total dose].\nIf the number is missing, output [put number of].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[put total dose]",
            "entity_type": "Radiotherapy",
            "field_name": "totalDoseGy"
          },
          {
            "template_placeholder": "[put number of]",
            "entity_type": "Radiotherapy",
            "field_name": "numberOfFractions"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "endDate"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "Radiotherapy",
            "field_name": "rtTreatmentCompletedAsPlanned?"
          }
        ]
      }
    },
    "tumorbiopsytype-int": {
      "template": "You are a clinical information extraction assistant.  \nYour task: From the given medical note, extract the biopsy type and the date (if present).  \nIf the date is missing, output 'unknown'.  \nIf the place is not mentioned, output 'in the hospital'.  \nAlways present the output in the following structured format:  \n\nAnnotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[biopsy type]",
            "entity_type": "Diagnosis",
            "field_name": "typeOfBiopsy"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          },
          {
            "template_placeholder": "[place]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyDoneBy"
          }
        ]
      }
    },
    "necrosis_in_surgical-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.\n\nPossible Output Formats (use only one):\nNecrosis in surgical specimen (type of): 10%. \nNecrosis in surgical specimen (type of): absent. \nNecrosis in surgical specimen (type of): coagulative necrosis. \nNecrosis in surgical specimen (type of): coagulative. \nNecrosis in surgical specimen (type of): none. \nNecrosis in surgical specimen (type of): unknown. \n\nDo not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "surgicalSpecimenGradingOnlyInUntreatedTumours"
          }
        ]
      }
    },
    "tumordiameter-int": {
      "template": "You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.\n\nFormats:\nTumor longest diameter: [value]mm (at initial imaging on [date]).\nTumor longest diameter unknown.\n\nIf the date is missing, output [put date].  \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.tumorSize",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "tumorSize"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          }
        ]
      }
    },
    "patient-status-int": {
      "template": "Task: From the given medical note, extract the status of the patient at last follow-up.\n\nAlways output in exactly one of the following structured templates:\n\n1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)\n2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])\n3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor\n4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).\n5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).\n6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).\n8. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor.\n\nGuidelines:\nA. No Evidence of Disease (NED):\nUse template (1) if the note mentions remission, disease-free, “recidivfri”, “no evidence of recurrence”, or “no residual tumor/metastases”.\n\nB. AWD - Metastases:\nUse template (2) if metastases are reported. List all mentioned sites inside parentheses. e.g., metastases (bone, soft tissue), metastases (bone), metastases (liver, bone, soft tissue), metastases (lung, bone, soft tissue, other), metastases (lung, soft tissue, other), metastases (lung, soft tissue), metastases (lung), metastases (soft tissue, liver), metastases (soft tissue, other), metastases (soft tissue).\nIf site(s) are unclear or multiple, include all explicitly mentioned locations.\n\nC. AWD - Localised tumor:\nUse template (3) if a tumor or local recurrence is present but no metastases are described.\n\nD. Strict output format:\nDo not add explanations or free text. Only return the structured annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp.statusAtLastFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PatientFollowUp",
            "field_name": "statusAtLastFollowUp"
          }
        ]
      }
    },
    "response-to-int": {
      "template": "You are a clinical information extraction assistant specialized in oncology.  \nYour task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  \n\nYour goal is to:\n1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).\n2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).\n3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.\n4. Only output one concise, structured annotation per note.\n\nAlways format your output strictly as one of the following:\n\n1. Response to [select type] radiotherapy was: [select response type]\n2. Response to [select type] chemotherapy was: [select response type]\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment.treatmentResponse",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select type]",
            "entity_type": "SystemicTreatment",
            "field_name": "typeOfSystemicTreatment"
          },
          {
            "template_placeholder": "[select response type]",
            "entity_type": "SystemicTreatment",
            "field_name": "treatmentResponse"
          }
        ]
      }
    },
    "stage_at_diagnosis-int": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. \nThe response must be any one of the following answers: \n\nPossible Answers: \nStage at diagnosis: localized. \nStage at diagnosis: loco-regional (In transit metastasis). \nStage at diagnosis: metastatic (regional nodal metastases). \nUnknown stage at diagnosis. \n\nDo not include any explanations, reasoning, extra text, the medical note.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "ClinicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "ClinicalStage",
            "field_name": "clinicalStaging"
          }
        ]
      }
    },
    "chemotherapy_end-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\npost-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\n\nNotes:\nIf the date is missing, output [provide date].\nIf the reason is missing, output [select reason].\nIf the number of cycles is missing, output [provide number].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "endDateSystemicTreatment"
          },
          {
            "template_placeholder": "[provide number]",
            "entity_type": "SystemicTreatment",
            "field_name": "numberOfCycles/Administrations"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "SystemicTreatment",
            "field_name": "reasonForEndOfTreatment"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "occurrence_cancer-int": {
      "template": "Task:\nYou are a clinical information extraction assistant.\n\nFrom the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.\nExtract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).\nIf such information is missing, ambiguous, or not mentioned, indicate that explicitly.\n\nAlways present the output in the following structured format and in English:\n\nFormat:\nAnnotation: Occurrence of other cancer [type]: [description].\n\nAllowed output options (strictly select one):\n\nOccurrence of other cancer unknown at initial excision.\nOccurrence of other cancer prostate cancer.\nOccurrence of other cancer sarcoma.\nOccurrence of other cancer breast cancer.\nOccurrence of other cancer folliculoma ovari.\nOccurrence of other cancer gastric adenocarcinoma.\nOccurrence of other cancer : myoma uteri 2010.\nOccurrence of other cancer : non-small cell lung cancer.\nOccurrence of other cancer : prostate cancer, pT3bN1M0.\nNo information about occurrence of other cancers.\nNo previous or concurrent cancers.\n\nIf the note contains no indication of another cancer, select one of the final two options above.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient.previousMalignantCancerSite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "previousMalignantCancerSite"
          }
        ]
      }
    },
    "surgical-specimen-grading-int": {
      "template": "You are a clinical information extraction assistant specialized in oncology.  \nYour task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.\n\nGuidelines:\n1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').\n2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.\n3. If both grading systems appear, prefer the FNCLCC value.\n4. If grading information is missing or uncertain, return nothing.\n5. The output must always follow this structured format:\n\nAnnotation: Surgical specimen grading (FNCLCC): [grade or description].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery.surgicalSpecimenGradingOnlyInUntreatedTumours",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[grade or description]",
            "entity_type": "Surgery",
            "field_name": "surgicalSpecimenGradingOnlyInUntreatedTumours"
          }
        ]
      }
    },
    "ageatdiagnosis-int": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.\n\nFormat:\nAge at diagnosis [age] years.\n\nThe age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.ageAtDiagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "ageAtDiagnosis"
          }
        ]
      }
    },
    "recur_or_prog-int": {
      "template": "Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.\n\nFollow these rules:\n\nIf the note clearly states no progression or no recurrence, output:\n\"There was no progression/recurrence.\"\n\nIf the note mentions recurrence, output:\n\"There was a recurrence on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nIf the note mentions progression, output:\n\"There was a progression on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nNever add extra explanation. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "EpisodeEvent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "EpisodeEvent",
            "field_name": "dateOfEpisode"
          }
        ]
      }
    },
    "histological-tipo-int": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to carefully read the given medical note and identify the histological type of the tumor.\n\nAlways select only one histological type from the controlled list provided below.\n\nIf multiple histological types are mentioned, choose the most specific or final diagnosis.\n\nOutput strictly in the following format:\nAnnotation: Histological type: [selected type] ([ICD-O-3 code]).\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.histologySubgroup",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "histologySubgroup"
          }
        ]
      }
    },
    "surgical-mitotic-count-int": {
      "template": "You are a clinical information extraction assistant specialized in oncopathology.  \nYour task: From the given medical note, extract the **Surgical specimen mitotic count**.\n\nGuidelines:\n1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.\n2. The output must strictly follow this format:\n\nAnnotation: Surgical specimen mitotic count: [value].\n\nIf the case corresponds to unknown or missing information, use:\nAnnotation: Unknown surgical specimen mitotic count.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery.surgicalSpecimenMitoticCount",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "surgicalSpecimenMitoticCount"
          }
        ]
      }
    },
    "tumorsite-int": {
      "template": "Task:\nYou are a clinical information extraction assistant.\nFrom the provided medical note, identify the tumor location category and the exact tumor site.\n\nInstructions:\n\n1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.\n\n2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).\n\n3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).\n\n4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).\n\n5. When terms describe a border region (e.g., axilla, groin, flank), assign to the anatomical category most topographically accurate:\n- Axilla / chest wall / scapular region → Trunk wall.\n- Groin / inguinal region → Upper and Lower limbs (if near thigh) or Intra abdominal (if pelvic/inguinal).\n- Jaw, maxilla, mandible, oral cavity → Head and neck.\n\n6. Ignore any mention of prior tumors, resections, or other organs unless explicitly linked to the current tumor.\n\n7. Always present the answer in this exact format:\n\nAnnotation: Tumor site ([select category]): [select site].\n\n8. If the tumor category cannot be determined, output “Tumor category unknown.”\nIf the category is known but not the site, output only the category in the prescribed format.\n\n\nPossible Output Options:\nTumor site (Genito urinary): Utero.\nTumor site (Intra abdominal): Pelvis.   \nTumor site (Intra abdominal): Retroperitoneum.  \nTumor site (Trunk wall): Abdominal Wall.        \nTumor site (Trunk wall): Paravertebral – thoracolumbar.         \nTumor site (Trunk wall): Thoracic Wall.         \nTumor site (Upper and Lower limbs): Ankle.      \nTumor site (Upper and Lower limbs): Buttock.    \nTumor site (Upper and Lower limbs): Elbow/Antecubital fossa.    \nTumor site (Upper and Lower limbs): Foot.       \nTumor site (Upper and Lower limbs): Forearm.    \nTumor site (Upper and Lower limbs): Groin.      \nTumor site (Upper and Lower limbs): Leg.        \nTumor site (Upper and Lower limbs): Periscapular.       \nTumor site (Upper and Lower limbs): Upper arm.  \nTumor site (Upper and Lower limbs): Upper leg.  \nTumor site: breast.     \nTumor site: head and neck. \nTumor site (Other): left thigh. \nTumor site (Other): skin of right breast. \nTumor site (Trunk wall): dorsum. \nTumor site (Upper and Lower limbs): [select site]. \nTumor site (Upper and Lower limbs): Upper leg (hip). \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.subsite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "subsite"
          }
        ]
      }
    },
    "race-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient's race or ethnicity.\n\nOutput strictly in the following format:\nPatient's race: [value].\n\nThe values can be from the following options: White, Black or African American, Asian, American Indian or Alaska Native, Native Hawaiian or Other Pacific Islander, Other, Unknown.\n\nIf the race or ethnicity is not explicitly stated or unclear, output: \"Patient's race: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "race"
          }
        ]
      }
    },
    "birthyear-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient's birth year.\n\nOutput strictly in the following format:\nPatient's birth year: [value].\n\nThe value should be a four-digit year (e.g., 1965).\n\nIf the birth year is not explicitly stated or cannot be determined, output: \"Patient's birth year: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "birthYear"
          }
        ]
      }
    },
    "smoking-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient's smoking status.\n\nOutput strictly in the following format:\nPatient's smoking status: [value].\n\nThe values can be from the following options: Current smoker, Former smoker (>1yr), Former smoker (<1yr), Never smoked, Unknown.\n\nIf the smoking status is not explicitly stated or unclear, output: \"Patient's smoking status: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "smoking"
          }
        ]
      }
    },
    "cigarettespackyears-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient's cigarette pack-years smoked during life.\n\nOutput strictly in the following format:\nCigarettes pack-years: [value].\n\nThe value should be a numeric value representing pack-years (e.g., 20, 35.5).\n\nIf the pack-years information is not explicitly stated or unclear, output: \"Cigarettes pack-years: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "cigarettesPackYearsSmokedDuringLife"
          }
        ]
      }
    },
    "alcohol-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient's alcohol consumption status.\n\nOutput strictly in the following format:\nPatient's alcohol status: [value].\n\nThe values can be from the following options: Active drinker, Former drinker, Never drinker, Unknown.\n\nIf the alcohol status is not explicitly stated or unclear, output: \"Patient's alcohol status: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "alcohol"
          }
        ]
      }
    },
    "bmi-int": {
      "template": "Task: You are a clinical information extraction assistant specialized in structured oncology metadata.\n\nFrom the medical note provided, extract the Patient's BMI, weight, and height.\n\nGuidelines:\nThe annotation must follow this exact format:\nPatient's BMI: [bmi_value], Weight: [weight]kg, Height: [height]cm.\n\nExtract BMI values expressed as: \"BMI\", \"BMI: 23.8\", \"BMI 24.7\", \"BMI 23.8 kg/m2\".\nEuropean commas (23,8) must be converted to decimal dots (23.8).\nExtract weight in kilograms and height in centimeters.\n\nIf BMI is not mentioned but weight and height are, calculate BMI = weight(kg) / height(m)^2.\nIf any value is not available, use \"Unknown\" for that field.\n\nIf none of the values are mentioned, output: \"Patient's BMI/weight/height unknown.\"\n\nProduce only one final annotation, no explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[bmi_value]",
            "entity_type": "Patient",
            "field_name": "bmi"
          },
          {
            "template_placeholder": "[weight]",
            "entity_type": "Patient",
            "field_name": "weight"
          },
          {
            "template_placeholder": "[height]",
            "entity_type": "Patient",
            "field_name": "height"
          }
        ]
      }
    },
    "charlsoncomorbidity-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the Charlson Comorbidity Index score.\n\nOutput strictly in the following format:\nCharlson Comorbidity Index: [value].\n\nThe value should be a numeric score (e.g., 0, 1, 2, 3, etc.).\n\nIf the Charlson Comorbidity Index is not explicitly stated or unclear, output: \"Charlson Comorbidity Index: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "charlsonComorbidityIndex"
          }
        ]
      }
    },
    "ecogps-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the ECOG Performance Status at diagnosis.\n\nOutput strictly in the following format:\nECOG Performance Status: [value].\n\nThe values can be from the following options: 0, 1, 2, 3, 4, Unknown.\n\nECOG Performance Status scale:\n- 0: Fully active, able to carry on all pre-disease performance without restriction\n- 1: Restricted in physically strenuous activity but ambulatory\n- 2: Ambulatory and capable of all selfcare but unable to carry out any work activities\n- 3: Capable of only limited selfcare, confined to bed or chair more than 50% of waking hours\n- 4: Completely disabled, totally confined to bed or chair\n\nIf the ECOG PS is not explicitly stated or unclear, output: \"ECOG Performance Status: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "easternCooperativeOncologyGroupPerformanceStatusAtDiagnosis"
          }
        ]
      }
    },
    "karnofsyindex-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the Karnofsky Performance Index at diagnosis.\n\nOutput strictly in the following format:\nKarnofsky Performance Index: [value].\n\nThe value should be a numeric score between 0 and 100, in increments of 10 (e.g., 0, 10, 20, ..., 90, 100).\n\nKarnofsky scale reference:\n- 100: Normal, no complaints, no evidence of disease\n- 90: Able to carry on normal activity; minor signs or symptoms of disease\n- 80: Normal activity with effort; some signs or symptoms of disease\n- 70: Cares for self; unable to carry on normal activity or do active work\n- 60: Requires occasional assistance but is able to care for most needs\n- 50: Requires considerable assistance and frequent medical care\n- 40: Disabled; requires special care and assistance\n- 30: Severely disabled; hospitalization indicated, death not imminent\n- 20: Very sick; active supportive treatment necessary\n- 10: Moribund; fatal processes progressing rapidly\n- 0: Dead\n\nIf the Karnofsky index is not explicitly stated or unclear, output: \"Karnofsky Performance Index: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "karnofsyIndexAtDiagnosis"
          }
        ]
      }
    },
    "geneticsyndrome-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract any genetic syndrome associated with the patient's condition.\n\nOutput strictly in the following format:\nGenetic syndrome: [value].\n\nThe values can be from the following options: No Genetic syndrome, Olliers disease, Maffuci syndrome, Li-Fraumeni syndrome, McCune-Albright syndrome, Multiple osteochondromas, Neurofibromatosis type 1, Rothmund-Thomson syndrome, Werner syndrome, Retinoblastoma, Paget disease, Other.\n\nIf no genetic syndrome is mentioned, output: \"Genetic syndrome: No Genetic syndrome.\"\nIf the genetic syndrome status is unclear, output: \"Genetic syndrome: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "geneticSyndrome"
          }
        ]
      }
    },
    "dateofdiagnosis-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the date of diagnosis.\n\nThe date of diagnosis refers to the date when the biopsy or surgical specimen confirmed the diagnosis.\n\nOutput strictly in the following format:\nDate of diagnosis: [DD/MM/YYYY].\n\nThe date must be in DD/MM/YYYY format.\n\nIf the date is not explicitly stated or unclear, output: \"Date of diagnosis: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[DD/MM/YYYY]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          }
        ]
      }
    },
    "radiotherapyinducedsarcoma-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and determine if the sarcoma was radiotherapy-induced.\n\nOutput strictly in the following format:\nRadiotherapy-induced sarcoma: [value].\n\nThe values can be from the following options: Yes, No, Unknown.\n\nConsider a sarcoma as radiotherapy-induced if the note mentions that the tumor developed in a previously irradiated field, or explicitly states radiation-induced or post-radiation sarcoma.\n\nIf the information is not explicitly stated or unclear, output: \"Radiotherapy-induced sarcoma: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "radiotherapyInducedSarcoma"
          }
        ]
      }
    },
    "histologygroup-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the histology group of the tumor.\n\nOutput strictly in the following format:\nHistology group: [value].\n\nIdentify the broader histology group category (e.g., Soft tissue sarcoma, Bone sarcoma, GIST, etc.) based on the histological type mentioned in the note.\n\nIf the histology group is not explicitly stated or unclear, output: \"Histology group: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "histologyGroup"
          }
        ]
      }
    },
    "tumorsite-category-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the tumor site category.\n\nOutput strictly in the following format:\nTumor site category: [value].\n\nThe values can be from the following options: Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast, Intra thoracic, Other.\n\nIf the tumor site category is not explicitly stated or unclear, output: \"Tumor site category: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "site"
          }
        ]
      }
    },
    "diagnosiscode-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the ICD-O-3 topography or diagnosis code.\n\nOutput strictly in the following format:\nDiagnosis code (ICD-O-3): [value].\n\nThe value should be a valid ICD-O-3 code (e.g., C49.1, C40.2, 8890/3).\n\nIf the code is not explicitly stated or unclear, output: \"Diagnosis code (ICD-O-3): Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "diagnosisCode"
          }
        ]
      }
    },
    "superficialdepth-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and determine if the tumor has superficial depth.\n\nOutput strictly in the following format:\nSuperficial depth: [value].\n\nThe values can be from the following options: Yes, No, Unknown.\n\nA tumor is superficial if it is located entirely above the superficial fascia without invasion of the fascia. A tumor is deep if it is located beneath the superficial fascia, or invades the fascia, or is both superficial and deep.\n\nIf the information is not explicitly stated or unclear, output: \"Superficial depth: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "superficialDepth"
          }
        ]
      }
    },
    "mitoticindex-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the mitotic index value.\n\nOutput strictly in the following format:\nMitotic index: [value].\n\nThe value should be a numeric count (e.g., 5/10 HPF, 12/50 HPF, 3 mitoses per 10 HPF).\n\nIf the mitotic index is not explicitly stated or unclear, output: \"Mitotic index: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "mitoticIndex"
          }
        ]
      }
    },
    "hpvstatus-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the HPV (Human Papillomavirus) status.\n\nOutput strictly in the following format:\nHPV status: [value].\n\nThe values can be from the following options: Positive, Negative, Not tested, Unknown.\n\nConsider HPV status as mentioned in pathology reports, p16 immunohistochemistry results (p16 positive is often a surrogate for HPV positive), or direct HPV testing results.\n\nIf the HPV status is not explicitly stated or unclear, output: \"HPV status: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "hpvStatus"
          }
        ]
      }
    },
    "clinicalstaging-tnm-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the clinical TNM staging (cT, cN, cM).\n\nOutput strictly in the following format:\nClinical TNM staging: cT[t_value] cN[n_value] cM[m_value].\n\nExamples of valid values:\n- cT: cT1, cT2, cT3, cT4, cTx, cT1a, cT1b, cT2a, cT2b, cT3a, cT3b, cT4a, cT4b\n- cN: cN0, cN1, cN2, cNx, cN1a, cN1b, cN2a, cN2b, cN2c, cN3\n- cM: cM0, cM1, cMx, cM1a, cM1b\n\nIf any component is not explicitly stated, use \"x\" for that component (e.g., cTx, cNx, cMx).\nIf no clinical staging information is found, output: \"Clinical TNM staging: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "ClinicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[t_value]",
            "entity_type": "ClinicalStage",
            "field_name": "ct"
          },
          {
            "template_placeholder": "[n_value]",
            "entity_type": "ClinicalStage",
            "field_name": "cn"
          },
          {
            "template_placeholder": "[m_value]",
            "entity_type": "ClinicalStage",
            "field_name": "cm"
          }
        ]
      }
    },
    "pathologicalstaging-tnm-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the pathological TNM staging (pT, pN, pM).\n\nOutput strictly in the following format:\nPathological TNM staging: pT[t_value] pN[n_value] pM[m_value].\n\nExamples of valid values:\n- pT: pT1, pT2, pT3, pT4, pTx, pT1a, pT1b, pT2a, pT2b, pT3a, pT3b, pT4a, pT4b\n- pN: pN0, pN1, pN2, pNx, pN1a, pN1b, pN2a, pN2b, pN2c, pN3\n- pM: pM0, pM1, pMx, pM1a, pM1b\n\nIf any component is not explicitly stated, use \"x\" for that component (e.g., pTx, pNx, pMx).\nIf no pathological staging information is found, output: \"Pathological TNM staging: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PathologicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[t_value]",
            "entity_type": "PathologicalStage",
            "field_name": "pt"
          },
          {
            "template_placeholder": "[n_value]",
            "entity_type": "PathologicalStage",
            "field_name": "pn"
          },
          {
            "template_placeholder": "[m_value]",
            "entity_type": "PathologicalStage",
            "field_name": "pm"
          }
        ]
      }
    },
    "pathologicalstaging-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the overall pathological stage.\n\nOutput strictly in the following format:\nPathological stage: [value].\n\nThe value should be a standard pathological stage designation (e.g., Stage I, Stage IA, Stage IB, Stage II, Stage IIA, Stage IIB, Stage III, Stage IIIA, Stage IIIB, Stage IV, Stage IVA, Stage IVB).\n\nIf the pathological stage is not explicitly stated or unclear, output: \"Pathological stage: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PathologicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PathologicalStage",
            "field_name": "pathologicalStaging"
          }
        ]
      }
    },
    "sentinelnode-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the sentinel node biopsy result.\n\nOutput strictly in the following format:\nSentinel node: [value].\n\nThe values can be from the following options: Positive, Negative, Not done, Unknown.\n\nIf the sentinel node information is not explicitly stated or unclear, output: \"Sentinel node: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PathologicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PathologicalStage",
            "field_name": "sentinelNode"
          }
        ]
      }
    },
    "surgeryintention-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the surgery intention.\n\nOutput strictly in the following format:\nSurgery intention: [value].\n\nThe values can be from the following options: Primary treatment, Treatment of recurrence, Other.\n\nIf the surgery intention is not explicitly stated or unclear, output: \"Surgery intention: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "surgeryIntention"
          }
        ]
      }
    },
    "tumorrupture-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and determine if the tumor ruptured during surgery.\n\nOutput strictly in the following format:\nTumor rupture: [value].\n\nThe values can be from the following options: Yes, No, Unknown.\n\nIf the tumor rupture information is not explicitly stated or unclear, output: \"Tumor rupture: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "tumorRupture"
          }
        ]
      }
    },
    "surgicalcomplications-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract surgical complications using the Clavien-Dindo Classification.\n\nOutput strictly in the following format:\nSurgical complications: [value].\n\nThe values can be from the following options: Grade I, Grade II, Grade III, Grade IV, Grade V, No complications.\n\nClavien-Dindo Classification reference:\n- Grade I: Any deviation from the normal postoperative course without pharmacological treatment or interventions\n- Grade II: Requiring pharmacological treatment (e.g., blood transfusions, total parenteral nutrition)\n- Grade III: Requiring surgical, endoscopic, or radiological intervention\n- Grade IV: Life-threatening complication requiring ICU management\n- Grade V: Death of a patient\n\nIf no complications are mentioned, output: \"Surgical complications: No complications.\"\nIf the information is unclear, output: \"Surgical complications: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "surgicalComplications"
          }
        ]
      }
    },
    "necksurgery-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and determine if neck surgery or neck dissection was performed.\n\nOutput strictly in the following format:\nNeck surgery: [value].\n\nThe values can be from the following options: Yes, No, Unknown.\n\nConsider any mention of neck dissection (radical, modified radical, selective), cervical lymphadenectomy, or neck surgery as positive.\n\nIf the neck surgery information is not explicitly stated or unclear, output: \"Neck surgery: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "neckSurgery"
          }
        ]
      }
    },
    "overalltreatmentresponse-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the overall treatment response.\n\nOutput strictly in the following format:\nOverall treatment response: [value].\n\nThe values can be from the following options: Complete response, Partial response, Stable disease, Progression of disease, Not evaluable.\n\nIf the overall treatment response is not explicitly stated or unclear, output: \"Overall treatment response: Not evaluable.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "OverallTreatmentResponse",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "OverallTreatmentResponse",
            "field_name": "overallTreatmentResponse"
          }
        ]
      }
    },
    "adverseevent-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract adverse events related to treatment.\n\nOutput strictly in the following format:\nAdverse event: [CTCAE term], Start date: [DD/MM/YYYY], Duration: [value].\n\nGuidelines:\n- Use CTCAE (Common Terminology Criteria for Adverse Events) terms when possible.\n- Extract the start date of the adverse event in DD/MM/YYYY format.\n- Extract the duration if mentioned (e.g., \"2 weeks\", \"3 days\", \"ongoing\").\n- If multiple adverse events are present, list each on a separate line.\n\nIf no adverse events are mentioned, output: \"No adverse events reported.\"\nIf the information is unclear, output: \"Adverse events: Unknown.\"\n\nDo not include any explanations, reasoning, extra text beyond the annotation format.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "AdverseEvent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[CTCAE term]",
            "entity_type": "AdverseEvent",
            "field_name": "ctcaeTerm"
          },
          {
            "template_placeholder": "[DD/MM/YYYY]",
            "entity_type": "AdverseEvent",
            "field_name": "startDate"
          },
          {
            "template_placeholder": "[value]",
            "entity_type": "AdverseEvent",
            "field_name": "duration"
          }
        ]
      }
    },
    "cancerstartdate-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the cancer start date.\n\nThe cancer start date refers to the date when the cancer episode began, which may be the date of first symptoms, first diagnostic imaging, or the date of biopsy.\n\nOutput strictly in the following format:\nCancer start date: [DD/MM/YYYY].\n\nThe date must be in DD/MM/YYYY format.\n\nIf the cancer start date is not explicitly stated or unclear, output: \"Cancer start date: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "CancerEpisode",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[DD/MM/YYYY]",
            "entity_type": "CancerEpisode",
            "field_name": "cancerStartDate"
          }
        ]
      }
    },
    "lastcontactdate-int": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract the last contact date from the provided medical note and output it in a precise, templated format.\n\nOutput Format:\nLast contact date with the patient: [date].\n\nThe date must be DD/MM/YYYY format only. Output \"Unknown\" if date is not found or you are unsure instead of outputting any random date. Do not include explanations, reasoning, or any extra text -- only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[date]",
            "entity_type": "PatientFollowUp",
            "field_name": "lastContact"
          }
        ]
      }
    },
    "followupdate-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the patient follow-up date.\n\nOutput strictly in the following format:\nPatient follow-up date: [DD/MM/YYYY].\n\nThe date must be in DD/MM/YYYY format.\n\nIf the follow-up date is not explicitly stated or unclear, output: \"Patient follow-up date: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[DD/MM/YYYY]",
            "entity_type": "PatientFollowUp",
            "field_name": "patientFollowUpDate"
          }
        ]
      }
    },
    "diseasestatus-followup-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the status of disease at last follow-up.\n\nOutput strictly in the following format:\nStatus of disease at last follow-up: [value].\n\nThe values can be from the following options: No Evidence of Disease (NED), Alive With Disease (AWD), Dead of Disease (DOD), Dead of Other Causes (DOC), Unknown.\n\nIf the disease status at last follow-up is not explicitly stated or unclear, output: \"Status of disease at last follow-up: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PatientFollowUp",
            "field_name": "statusOfDiseaseAtLastFollowUp"
          }
        ]
      }
    },
    "radiotherapy-treatment-response-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the radiotherapy treatment response.\n\nOutput strictly in the following format:\nRadiotherapy treatment response: [value].\n\nThe values can be from the following options: Complete response, Partial response, Stable disease, Progression, Not evaluable.\n\nIf the radiotherapy treatment response is not explicitly stated or unclear, output: \"Radiotherapy treatment response: Not evaluable.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Radiotherapy",
            "field_name": "treatmentResponse"
          }
        ]
      }
    },
    "systemic-treatment-type-int": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and extract the type of systemic treatment administered.\n\nOutput strictly in the following format:\nType of systemic treatment: [value].\n\nThe values can be from the following options: Chemotherapy, Immunotherapy, Targeted therapy, Hormone therapy, Other.\n\nIf multiple types are mentioned, list them separated by commas (e.g., \"Chemotherapy, Immunotherapy\").\n\nIf the type of systemic treatment is not explicitly stated or unclear, output: \"Type of systemic treatment: Unknown.\"\n\nDo not include any explanations, reasoning, extra text, the medical note -- only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "SystemicTreatment",
            "field_name": "typeOfSystemicTreatment"
          }
        ]
      }
    }
  },
  "MSCI": {
    "stage_at_diagnosis": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. \nThe response must be any one of the following answers: \n\nPossible Answers: \nStage at diagnosis: localized. \nStage at diagnosis: loco-regional (In transit metastasis). \nStage at diagnosis: metastatic (regional nodal metastases). \nUnknown stage at diagnosis. \n\nDo not include any explanations, reasoning, extra text, the medical note.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "ClinicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "ClinicalStage",
            "field_name": "clinicalStaging"
          }
        ]
      }
    },
    "ageatdiagnosis": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.\n\nFormat:\nAge at diagnosis [age] years.\n\nThe age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.ageAtDiagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "ageAtDiagnosis"
          }
        ]
      }
    },
    "patient-status": {
      "template": "Task: From the given medical note, extract the status of the patient at last follow-up.\n\nAlways output in exactly one of the following structured templates:\n\n1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)\n2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])\n3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor\n4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).\n5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).\n6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).\n8. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor.\n\nGuidelines:\nA. No Evidence of Disease (NED):\nUse template (1) if the note mentions remission, disease-free, “recidivfri”, “no evidence of recurrence”, or “no residual tumor/metastases”.\n\nB. AWD - Metastases:\nUse template (2) if metastases are reported. List all mentioned sites inside parentheses. e.g., metastases (bone, soft tissue), metastases (bone), metastases (liver, bone, soft tissue), metastases (lung, bone, soft tissue, other), metastases (lung, soft tissue, other), metastases (lung, soft tissue), metastases (lung), metastases (soft tissue, liver), metastases (soft tissue, other), metastases (soft tissue).\nIf site(s) are unclear or multiple, include all explicitly mentioned locations.\n\nC. AWD - Localised tumor:\nUse template (3) if a tumor or local recurrence is present but no metastases are described.\n\nD. Strict output format:\nDo not add explanations or free text. Only return the structured annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp.statusAtLastFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PatientFollowUp",
            "field_name": "statusAtLastFollowUp"
          }
        ]
      }
    },
    "biopsymitoticcount": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. \nIdentify the biopsy mitotic count from the provided medical note and output it exactly in the following format:\n\nFormat:\nBiopsy mitotic count: [value]HPF/mm2.\n(If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)\n\nDo not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyMitoticCount"
          }
        ]
      }
    },
    "previous_cancer_treatment": {
      "template": "Task:\nYou are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.\nIf treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.\n\nAlways present the output in the following structured format and in English:\nAnnotation: Previous cancer treatment: [select one option].\n\nAllowed output options (strictly select one):\n\nPrevious cancer treatment: radiation, chemotherapy.\nPrevious cancer treatment: radiation, other.\nPrevious cancer treatment: radiation, surgery, other.\nPrevious cancer treatment: surgery, chemotherapy, radiation, other.\nPrevious cancer treatment: surgery, radiation, other.\nPrevious cancer treatment: surgery, radiation.\nPrevious cancer treatment: surgery.\n\nIf the note does not contain sufficient information to determine the category, select the most appropriate of:\nNo previous cancer treatments.\nNo previous or concurrent cancers.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select one option]",
            "entity_type": "Patient",
            "field_name": "previousCancerTreatment"
          }
        ]
      }
    },
    "occurrence_cancer": {
      "template": "Task:\nYou are a clinical information extraction assistant.\n\nFrom the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.\nExtract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).\nIf such information is missing, ambiguous, or not mentioned, indicate that explicitly.\n\nAlways present the output in the following structured format and in English:\n\nFormat:\nAnnotation: Occurrence of other cancer [type]: [description].\n\nAllowed output options (strictly select one):\n\nOccurrence of other cancer unknown at initial excision.\nOccurrence of other cancer prostate cancer.\nOccurrence of other cancer sarcoma.\nOccurrence of other cancer breast cancer.\nOccurrence of other cancer folliculoma ovari.\nOccurrence of other cancer gastric adenocarcinoma.\nOccurrence of other cancer : myoma uteri 2010.\nOccurrence of other cancer : non-small cell lung cancer.\nOccurrence of other cancer : prostate cancer, pT3bN1M0.\nNo information about occurrence of other cancers.\nNo previous or concurrent cancers.\n\nIf the note contains no indication of another cancer, select one of the final two options above.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient.previousMalignantCancerSite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "previousMalignantCancerSite"
          }
        ]
      }
    },
    "recurrencetype": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return \"None\".\n\nOutput strictly in the following format:\nAnnotation: Type of recurrence/progression: [selected type] .\n\nPossible Output Templates:\nType of recurrence/progression: local.\nType of recurrence/progression: local [select site if metastatic].\nType of recurrence/progression: metastatic.\nType of recurrence/progression: metastatic bone, soft tissue.\nType of recurrence/progression: metastatic bone.\nType of recurrence/progression: metastatic brain.\nType of recurrence/progression: metastatic liver, lung, bone.\nType of recurrence/progression: metastatic liver.\nType of recurrence/progression: metastatic lung, bone, soft tissue.\nType of recurrence/progression: metastatic lung, soft tissue.\nType of recurrence/progression: metastatic lung.\nType of recurrence/progression: metastatic other, soft tissue.\nType of recurrence/progression: metastatic other.\nType of recurrence/progression: metastatic soft tissue, lung, other.\nType of recurrence/progression: metastatic soft tissue.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "DiseaseExtent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[selected type]",
            "entity_type": "DiseaseExtent",
            "field_name": "localised"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          }
        ]
      }
    },
    "gender": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from medical notes. \nIdentify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:\n\nFormat:\nPatient's gender [male/female].\n(If not explicitly stated or unclear, output: “Patient's gender unknown”)\n\nDo not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient.sex",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[male/female/unknown]",
            "entity_type": "Patient",
            "field_name": "sex"
          }
        ]
      }
    },
    "tumorsite": {
      "template": "Task:\nYou are a clinical information extraction assistant.\nFrom the provided medical note, identify the tumor location category and the exact tumor site.\n\nInstructions:\n\n1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.\n\n2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).\n\n3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).\n\n4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).\n\n5. When terms describe a border region (e.g., axilla, groin, flank), assign to the anatomical category most topographically accurate:\n- Axilla / chest wall / scapular region → Trunk wall.\n- Groin / inguinal region → Upper and Lower limbs (if near thigh) or Intra abdominal (if pelvic/inguinal).\n- Jaw, maxilla, mandible, oral cavity → Head and neck.\n\n6. Ignore any mention of prior tumors, resections, or other organs unless explicitly linked to the current tumor.\n\n7. Always present the answer in this exact format:\n\nAnnotation: Tumor site ([select category]): [select site].\n\n8. If the tumor category cannot be determined, output “Tumor category unknown.”\nIf the category is known but not the site, output only the category in the prescribed format.\n\n\nPossible Output Options:\nTumor site (Genito urinary): Utero.\nTumor site (Intra abdominal): Pelvis.   \nTumor site (Intra abdominal): Retroperitoneum.  \nTumor site (Trunk wall): Abdominal Wall.        \nTumor site (Trunk wall): Paravertebral – thoracolumbar.         \nTumor site (Trunk wall): Thoracic Wall.         \nTumor site (Upper and Lower limbs): Ankle.      \nTumor site (Upper and Lower limbs): Buttock.    \nTumor site (Upper and Lower limbs): Elbow/Antecubital fossa.    \nTumor site (Upper and Lower limbs): Foot.       \nTumor site (Upper and Lower limbs): Forearm.    \nTumor site (Upper and Lower limbs): Groin.      \nTumor site (Upper and Lower limbs): Leg.        \nTumor site (Upper and Lower limbs): Periscapular.       \nTumor site (Upper and Lower limbs): Upper arm.  \nTumor site (Upper and Lower limbs): Upper leg.  \nTumor site: breast.     \nTumor site: head and neck. \nTumor site (Other): left thigh. \nTumor site (Other): skin of right breast. \nTumor site (Trunk wall): dorsum. \nTumor site (Upper and Lower limbs): [select site]. \nTumor site (Upper and Lower limbs): Upper leg (hip). \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.subsite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "subsite"
          }
        ]
      }
    },
    "chemotherapy_start": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.\npost-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.\n\nNotes:\nIf the date is missing, output [provide date].\nIf the regimen is missing, output [select regimen].\nIf the intent is missing, output [select intent].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intent]",
            "entity_type": "SystemicTreatment",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "startDateSystemicTreatment"
          },
          {
            "template_placeholder": "[select regimen]",
            "entity_type": "SystemicTreatment",
            "field_name": "regimen"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "recur_or_prog": {
      "template": "Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.\n\nFollow these rules:\n\nIf the note clearly states no progression or no recurrence, output:\n\"There was no progression/recurrence.\"\n\nIf the note mentions recurrence, output:\n\"There was a recurrence on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nIf the note mentions progression, output:\n\"There was a progression on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nNever add extra explanation. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "EpisodeEvent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "EpisodeEvent",
            "field_name": "dateOfEpisode"
          }
        ]
      }
    },
    "patient-bmi": {
      "template": "You are a clinical information extraction assistant specialized in structured oncology metadata.\n\nTask: From the medical note provided, extract only the Patient’s BMI with its evaluation date.\n\nGuidelines\n\nThe annotation must follow this exact format:\nAnnotation: Patient's BMI [value] (evaluated on [DD/MM/YYYY]).\n\nExtract BMI values expressed as:\n\n“BMI”, “BMI: 23,8”, “BMI 24.7”, “BMI 23.8 kg/m2”\n\nEuropean commas (23,8) must be converted to decimal dots (23.8).\n\nIf no decimal is present (e.g., “BMI 24”), keep as integer.\n\nExtract the date associated with the BMI:\n\nIf the note explicitly contains a date near BMI → use that date.\nExamples:\n“Data i godzina konsultacji 2019-01-23” → 23/01/2019\n“Badanie wykonano dnia 12/08/2019” → 12/08/2019\n\nAccept these date formats:\n\nYYYY-MM-DD\n\nDD/MM/YYYY\n\nDD.MM.YYYY\n\n“23 stycznia 2019” → convert to 23/01/2019\n\nIf neither the BMI nor the date is mentioned, output 'Patient's BMI unknown'.\n\nProduce only one final annotation, no explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "bmi"
          },
          {
            "template_placeholder": "[DD/MM/YYYY]",
            "entity_type": "Patient",
            "field_name": "bmiDate"
          }
        ]
      }
    },
    "chemotherapy_end": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\npost-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\n\nNotes:\nIf the date is missing, output [provide date].\nIf the reason is missing, output [select reason].\nIf the number of cycles is missing, output [provide number].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "endDateSystemicTreatment"
          },
          {
            "template_placeholder": "[provide number]",
            "entity_type": "SystemicTreatment",
            "field_name": "numberOfCycles/Administrations"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "SystemicTreatment",
            "field_name": "reasonForEndOfTreatment"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "patient-weightheight": {
      "template": "You are a clinical information extraction assistant specialized in structured oncology metadata.\n\nTask: From the medical note provided, extract only the Patient’s weight and height with its evaluation date.\n\nGuidelines\n\nThe annotation must follow this exact format:\nAnnotation: Patient's weight [put weight]kg and height[put height]cm (evaluated on [put date]).\n\nEuropean commas (23,8) must be converted to decimal dots (23.8).\nIf the note explicitly contains a date near weight and height → use that date.\n\nAccept these date formats:\n\nYYYY-MM-DD\n\nDD/MM/YYYY\n\nDD.MM.YYYY\n\n“23 stycznia 2019” → convert to 23/01/2019\n\nIf neither the weight nor the height nor the date is mentioned, output 'Patient's BMI/weight/height unknown'.\n\nProduce only one final annotation, no explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[put weight]",
            "entity_type": "Patient",
            "field_name": "weight"
          },
          {
            "template_placeholder": "[put height]",
            "entity_type": "Patient",
            "field_name": "height"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Patient",
            "field_name": "weightHeightDate"
          }
        ]
      }
    },
    "last_contact_date": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract the last contact date from the provided medical note and output it in a precise, templated format.\n\nOutput Format:\nLast contact date with the patient: [date]. \n\nThe date must be dd/mm/yyy format only. Output \"Unknown\" if date is not found or you are unsure instead of outputting any random date. Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp.lastContact",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[date]",
            "entity_type": "PatientFollowUp",
            "field_name": "lastContact"
          }
        ]
      }
    },
    "radiotherapy_start": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. \npost-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. \n\nNotes:\nIf the date is missing, output [put date].\nIf the place is missing, output [please select where].\nIf the intention is missing, output [select intention].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intention]",
            "entity_type": "Radiotherapy",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[please select where]",
            "entity_type": "Radiotherapy",
            "field_name": "radiotherapyHospital"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "startDate"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Radiotherapy",
            "field_name": "setting"
          }
        ]
      }
    },
    "surgerytype": {
      "template": "Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.\n\n1. If a surgery is described, always return:\n   - Whether it was **Primary surgery** or simply **Surgery**.\n   - The **date of surgery** in DD/MM/YYYY format.\n   - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** \n     (if margins or completeness are not explicitly mentioned).\n\n2. If no surgery information exists, return nothing.\n\nYour answer must follow exactly one of these formats:\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n\nDo not add any explanations. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "surgeryType"
          },
          {
            "template_placeholder": "DD/MM/YYYY",
            "entity_type": "Surgery",
            "field_name": "dateOfSurgery"
          },
          {
            "template_placeholder": "[complete/incomplete]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "biopsygrading": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.\n\nOutput strictly in the following format:\nBiopsy grading (FNCLCC): [value].\n\nThe values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.biopsyGrading",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "grading"
          }
        ]
      }
    },
    "histological": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to carefully read the given medical note and identify the histological type of the tumor.\n\nAlways select only one histological type from the controlled list provided below.\n\nIf multiple histological types are mentioned, choose the most specific or final diagnosis.\n\nOutput strictly in the following format:\nAnnotation: Histological type: [selected type] ([ICD-O-3 code]).\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.histologySubgroup",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "histologySubgroup"
          }
        ]
      }
    },
    "necrosis_in_surgical": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.\n\nPossible Output Formats (use only one):\nNecrosis in surgical specimen (type of): 10%. \nNecrosis in surgical specimen (type of): absent. \nNecrosis in surgical specimen (type of): coagulative necrosis. \nNecrosis in surgical specimen (type of): coagulative. \nNecrosis in surgical specimen (type of): none. \nNecrosis in surgical specimen (type of): unknown. \n\nDo not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "surgicalSpecimenGradingOnlyInUntreatedTumours"
          }
        ]
      }
    },
    "necrosis_in_biopsy": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.\n\nPossible Output Formats (use only one):\nNecrosis in biopsy specimen (type of): [percentage value] of tumor.\nNecrosis in biopsy specimen (type of): absent.\nNecrosis in biopsy specimen (type of): none.\nNecrosis in biopsy specimen (type of): present.\nNecrosis in biopsy specimen (type of): unknown.\n\nDo not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyGrading"
          }
        ]
      }
    },
    "tumorbiopsytype": {
      "template": "You are a clinical information extraction assistant.  \nYour task: From the given medical note, extract the biopsy type and the date (if present).  \nIf the date is missing, output 'unknown'.  \nIf the place is not mentioned, output 'in the hospital'.  \nAlways present the output in the following structured format:  \n\nAnnotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[biopsy type]",
            "entity_type": "Diagnosis",
            "field_name": "typeOfBiopsy"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          },
          {
            "template_placeholder": "[place]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyDoneBy"
          }
        ]
      }
    },
    "surgerymargins": {
      "template": "Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.\nAlways output the result in the following format:\nMargins after surgery: [R0 or R1 or R2]\n\nR0 (radical, tumor-free margins):\n\nImportant: A “small but clear” margin = still R0.\n\nOutput only the classification in the required format. Do not add explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery.marginsAfterSurgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "radiotherapy_end": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\npost-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\n\nNotes:\nIf the date is missing, output [put date].\nIf the reason is missing, output [select reason].\nIf the dose is missing, output [put total dose].\nIf the number is missing, output [put number of].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[put total dose]",
            "entity_type": "Radiotherapy",
            "field_name": "totalDoseGy"
          },
          {
            "template_placeholder": "[put number of]",
            "entity_type": "Radiotherapy",
            "field_name": "numberOfFractions"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "endDate"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "Radiotherapy",
            "field_name": "rtTreatmentCompletedAsPlanned?"
          }
        ]
      }
    },
    "tumordiameter": {
      "template": "You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.\n\nFormats:\nTumor longest diameter: [value]mm (at initial imaging on [date]).\nTumor longest diameter unknown.\n\nIf the date is missing, output [put date].  \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.tumorSize",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "tumorSize"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          }
        ]
      }
    }
  },
  "VGR": {
    "stage_at_diagnosis": {
      "template": "You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. \nThe response must be any one of the following answers: \n\nPossible Answers: \nStage at diagnosis: loco-regional (multifocal). \nStage at diagnosis: metastatic (regional nodal metastases). \nStage at diagnosis: localized. \nStage at diagnosis: loco-regional (In transit metastasis). \nStage at diagnosis: distant metastases (lung). \nStage at diagnosis: distant metastases (soft tissue). \nStage at diagnosis: distant metastases (bone). \nStage at diagnosis: distant metastases (brain). \nStage at diagnosis: distant metastases (lung, bone, soft tissue). \nStage at diagnosis: distant metastases (lung, soft tissue). \nUnknown stage at diagnosis. \n\nDo not include any explanations, reasoning, extra text, the medical note.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "ClinicalStage",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "ClinicalStage",
            "field_name": "clinicalStaging"
          }
        ]
      }
    },
    "chemotherapy_start": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\n[select type] chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen\n\nNotes:\nIf the date is missing, output [provide date].\nIf the regimen is missing, output [select regimen].\nIf the intent is missing, output [select intent].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intent]",
            "entity_type": "SystemicTreatment",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "startDateSystemicTreatment"
          },
          {
            "template_placeholder": "[select regimen]",
            "entity_type": "SystemicTreatment",
            "field_name": "regimen"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "unknown": {
      "template": "Task:\nYou are a clinical information extraction assistant.\n\nFrom the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.\nExtract the exact description if available (e.g., “prostate cancer”, “breast cancer” etc.).\nIf such information is missing, ambiguous, or not mentioned, indicate that explicitly.\n\nAlways present the output in the following structured format and in English:\n\nFormat:\nAnnotation: Occurrence of other cancer [type]: [description].\n\nAllowed output options (strictly select one):\n\nOccurrence of other cancer malignant melanoma. \nOccurrence of other cancer ductal carcinoma. \nOccurrence of other cancer breastcancer. \nOccurrence of other cancer carcinom. \nOccurrence of other cancer urothelial cancer. \nOccurrence of other cancer prostatecancer. \nOccurrence of other cancer lungcancer. \nOccurrence of other cancer coloncancer. \nOccurrence of other cancer Squamous cell carcinoma. \nOccurrence of other cancer urinvägscancer. \nOccurrence of other cancer bladder cancer. \nOccurrence of other cancer coloncancer. \nOccurrence of other cancer tungbascancer. \nOccurrence of other cancer basalcellscancer. \nOccurrence of other cancer myeloma. \nOccurrence of other cancer hodgkins lymphoma. \nOccurrence of other cancer [please provide details]. \nOccurrence of other cancer lymphoma. \nNo information about occurrence of other cancers.\nNo previous or concurrent cancers.\n\nIf the note contains no indication of another cancer, select one of the final two options above.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient.previousMalignantCancerSite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Patient",
            "field_name": "previousMalignantCancerSite"
          }
        ]
      }
    },
    "surgical-specimen-grading": {
      "template": "You are a clinical information extraction assistant specialized in oncology.  \nYour task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.\n\nGuidelines:\n1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').\n2. If grading information is missing or uncertain, return nothing.\n3. The output must always follow this structured format:\n\nAnnotation: Surgical specimen grading (FNCLCC): [grade or description].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery.surgicalSpecimenGradingOnlyInUntreatedTumours",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[grade or description]",
            "entity_type": "Surgery",
            "field_name": "surgicalSpecimenGradingOnlyInUntreatedTumours"
          }
        ]
      }
    },
    "histological": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to carefully read the given medical note and identify the histological type of the tumor.\n\nAlways select only one histological type from the controlled list provided below.\n\nIf multiple histological types are mentioned, choose the most specific or final diagnosis.\n\nOutput strictly in the following format:\nAnnotation: Histological type: [selected type] ([ICD-O-3 code]).\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.histologySubgroup",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "histologySubgroup"
          }
        ]
      }
    },
    "surgerytype": {
      "template": "Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.\n\n1. If a surgery is described, always return:\n   - Whether it was **Primary surgery** or simply **Surgery**.\n   - The **date of surgery** in DD/MM/YYYY format.\n   - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** \n     (if margins or completeness are not explicitly mentioned).\n\n2. If no surgery information exists, return nothing.\n\nYour answer must follow exactly one of these formats:\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Primary surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically complete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically incomplete.\"\n- \"Surgery was performed on DD/MM/YYYY and was macroscopically [select result].\"\n\nDo not add any explanations. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "surgeryType"
          },
          {
            "template_placeholder": "DD/MM/YYYY",
            "entity_type": "Surgery",
            "field_name": "dateOfSurgery"
          },
          {
            "template_placeholder": "[complete/incomplete]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "other-systemic-therapy": {
      "template": "You are a clinical information extraction assistant specialized in oncological surgery documentation.\nYour task: From the given medical note, is extract information on the systemic therapy applied. Specifically whether it was applied 'at the hospital' or 'outside of the hospital' and the nature of the syetemic therapy applied (cortison, Everolimus, isolated limb perfusion, etc.).\n\nFormats:\nOther systemic therapy was applied at the hosptial: autolog stamcellstranstransplantation. \nOther systemic therapy was applied at the hosptial: autolog stemcelltransplantation. \nOther systemic therapy was applied at the hosptial: bisphosphonate. \nOther systemic therapy was applied at the hosptial: cortison. \nOther systemic therapy was applied at the hosptial: Crizotinin. \nOther systemic therapy was applied at the hosptial: Everolimus. \nOther systemic therapy was applied at the hosptial: isolated limb perfusion. \nOther systemic therapy was applied at the hosptial: isolated limb prefusion. \nOther systemic therapy was applied at the hosptial: kortison. \nOther systemic therapy was applied at the hosptial: laserbehandling. \nOther systemic therapy was applied at the hosptial: nivolumab. \nOther systemic therapy was applied at the hosptial: trametinib. \nOther systemic therapy was applied outside of the hospital: kemoembolisering. \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "typeOfSystemicTreatment"
          }
        ]
      }
    },
    "previous_cancer_treatment": {
      "template": "Task:\nYou are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.\nIf treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.\n\nAlways present the output in the following structured format and in English:\nAnnotation: Previous cancer treatment: [select one option].\n\nAllowed output options (strictly select one):\n\nPrevious cancer treatment: radiation, chemotherapy.\nPrevious cancer treatment: radiation, other.\nPrevious cancer treatment: radiation, surgery, other.\nPrevious cancer treatment: surgery, chemotherapy, radiation, other.\nPrevious cancer treatment: surgery, radiation, other.\nPrevious cancer treatment: surgery, radiation.\nPrevious cancer treatment: surgery.\n\nIf the note does not contain sufficient information to determine the category, select the most appropriate of:\nNo previous cancer treatments.\nNo previous or concurrent cancers.\n\nOutput only the classification string in the exact format above. Do not include explanations, reasoning, or any extra text.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Patient",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select one option]",
            "entity_type": "Patient",
            "field_name": "previousCancerTreatment"
          }
        ]
      }
    },
    "tumorrupture": {
      "template": "You are a clinical information extraction assistant.  \nYour task: From the given medical note, extract the information whether tumor ruptured or not\n\nAlways present the output in one of the following structured format:  \nAnnotation: \n1. Tumor did not rupture. \n2. Tumor ruptured. \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "tumorRupture"
          }
        ]
      }
    },
    "tumorbiopsytype": {
      "template": "You are a clinical information extraction assistant.  \nYour task: From the given medical note, extract the biopsy type and the date (if present).  \nIf the date is missing, output [put date].  \nIf the place is not mentioned, use \"in the hospital\".  \nAlways present the output in the following structured format:  \n\nAnnotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[biopsy type]",
            "entity_type": "Diagnosis",
            "field_name": "typeOfBiopsy"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "Diagnosis",
            "field_name": "dateOfDiagnosis"
          },
          {
            "template_placeholder": "[place]",
            "entity_type": "Diagnosis",
            "field_name": "biopsyDoneBy"
          }
        ]
      }
    },
    "reexcision": {
      "template": "You are a clinical information extraction assistant specialized in oncological surgery documentation.\nYour task: From the given medical note, extract re-excision (radicalization) information, including:\n1. The date when the re-excision was performed (if mentioned).\n2. Whether it was macroscopically complete, incomplete, or if such information is unknown.\n\nFormats:\nRe-excision was performed on [provide date] and was macroscopically [complete/incomplete]. \n\nNotes:\nIf the date is missing, output [put date] in the format.\nIf the result is missing, output [select result] in the format.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[provide date]",
            "entity_type": "Surgery",
            "field_name": "dateOfSurgery"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Surgery",
            "field_name": "surgeryType",
            "hardcoded_value": "4315400"
          },
          {
            "template_placeholder": "[complete/incomplete]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "surgerymargins": {
      "template": "Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.\nAlways output the result in the following format:\nMargins after surgery: [R0 or R1 or R2]\n\nR0 (radical, tumor-free margins):\n\nIf the note says “radikalt exciderad”, “radikalt opererad”, “goda marginaler”, “tumörfri marginal”, or margins measured but free of tumor, classify as R0, even if described as “snäv” or “minimal”.\n\nImportant: A “small but clear” margin = still R0.\n\nOutput only the classification in the required format. Do not add explanations.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Surgery.marginsAfterSurgery",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Surgery",
            "field_name": "marginsAfterSurgery"
          }
        ]
      }
    },
    "recurrencetype": {
      "template": "Task: You are a clinical information extraction assistant.\nYour task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return \"None\".\n\nOutput strictly in the following format:\nAnnotation: Type of recurrence/progression: [selected type] .\n\nPossible Output Templates:\nType of recurrence/progression: local.\nType of recurrence/progression: local [select site if metastatic].\nType of recurrence/progression: metastatic.\nType of recurrence/progression: metastatic bone, soft tissue.\nType of recurrence/progression: metastatic bone.\nType of recurrence/progression: metastatic brain.\nType of recurrence/progression: metastatic liver, lung, bone.\nType of recurrence/progression: metastatic liver.\nType of recurrence/progression: metastatic lung, bone, soft tissue.\nType of recurrence/progression: metastatic lung, soft tissue.\nType of recurrence/progression: metastatic lung.\nType of recurrence/progression: metastatic other, soft tissue.\nType of recurrence/progression: metastatic other.\nType of recurrence/progression: metastatic soft tissue, lung, other.\nType of recurrence/progression: metastatic soft tissue.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "DiseaseExtent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[selected type]",
            "entity_type": "DiseaseExtent",
            "field_name": "localised"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          }
        ]
      }
    },
    "recur_or_prog": {
      "template": "Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.\n\nFollow these rules:\n\nIf the note clearly states no progression or no recurrence, output:\n\"There was no progression/recurrence.\"\n\nIf the note mentions recurrence, output:\n\"There was a recurrence on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nIf the note mentions progression, output:\n\"There was a progression on [date].\" (If a date is mentioned, include it. If no date is mentioned, keep [put date]).\n\nNever add extra explanation. Only output the standardized annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "EpisodeEvent",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "EpisodeEvent",
            "field_name": "diseaseStatus"
          },
          {
            "template_placeholder": "[date]",
            "entity_type": "EpisodeEvent",
            "field_name": "dateOfEpisode"
          }
        ]
      }
    },
    "tumorsite": {
      "template": "Task:\nYou are a clinical information extraction assistant.\nFrom the provided medical note, identify the tumor location category and the exact tumor site.\n\nInstructions:\n\n1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.\n\n2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).\n\n3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).\n\n4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).\n\n5. When terms describe a border region (e.g., axilla, groin, flank), assign to the anatomical category most topographically accurate:\n- Axilla / chest wall / scapular region → Trunk wall.\n- Groin / inguinal region → Upper and Lower limbs (if near thigh) or Intra abdominal (if pelvic/inguinal).\n- Jaw, maxilla, mandible, oral cavity → Head and neck.\n\n6. Ignore any mention of prior tumors, resections, or other organs unless explicitly linked to the current tumor.\n\n7. Always present the answer in this exact format:\n\nAnnotation: Tumor site ([select category]): [select site].\n\n8. If the tumor category cannot be determined, output “Tumor category unknown.”\nIf the category is known but not the site, output only the category in the prescribed format.\n\n\nPossible Output Options:\nTumor site (Genito urinary): Prostate. \nTumor site (Genito urinary): Utero. \nTumor site (Genito urinary): Vulva. \nTumor site (Intra abdominal): Mesentery. \nTumor site (Intra abdominal): Pelvis. \nTumor site (Intra abdominal): Retroperitoneum. \nTumor site (Intra thoracic): [select site]. \nTumor site (Intra thoracic): Lung. \nTumor site (Trunk wall): Abdominal Wall. \nTumor site (Trunk wall): Paravertebral – thoracolumbar. \nTumor site (Trunk wall): Thoracic Wall. \nTumor site (Upper and Lower limbs): Ankle. \nTumor site (Upper and Lower limbs): Axilla. \nTumor site (Upper and Lower limbs): Buttock. \nTumor site (Upper and Lower limbs): Deltoid. \nTumor site (Upper and Lower limbs): Elbow/Antecubital fossa. \nTumor site (Upper and Lower limbs): Foot. \nTumor site (Upper and Lower limbs): Forearm. \nTumor site (Upper and Lower limbs): Groin. \nTumor site (Upper and Lower limbs): Hand. \nTumor site (Upper and Lower limbs): Knee/popliteal fossa. \nTumor site (Upper and Lower limbs): Leg. \nTumor site (Upper and Lower limbs): Periscapular. \nTumor site (Upper and Lower limbs): Supraclavicular. \nTumor site (Upper and Lower limbs): Upper arm. \nTumor site (Upper and Lower limbs): Upper leg. \nTumor site (Upper and Lower limbs): Wrist. \n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{static_samples}\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.subsite",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "subsite"
          }
        ]
      }
    },
    "tumordepth": {
      "template": "You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.\n\nTask:\nFrom the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.\n\nOutput format (exact):\nAnnotation: Tumor depth: [superficial|deep].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[superficial|deep]",
            "entity_type": "Diagnosis",
            "field_name": "deepDepth"
          }
        ]
      }
    },
    "patient-status": {
      "template": "Task: From the given medical note, extract the status of the patient at last follow-up.\n\nAlways output in exactly one of the following structured templates:\n\n1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)\n2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])\n3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor\n\nGuidelines:\nA. No Evidence of Disease (NED):\nUse template (1) if the note mentions remission, disease-free, “recidivfri”, “no evidence of recurrence”, or “no residual tumor/metastases”.\n\nB. AWD - Metastases:\nUse template (2) if metastases are reported. List all mentioned sites inside parentheses. e.g., metastases (bone, soft tissue), metastases (bone), metastases (liver, bone, soft tissue), metastases (lung, bone, soft tissue, other), metastases (lung, soft tissue, other), metastases (lung, soft tissue), metastases (lung), metastases (soft tissue, liver), metastases (soft tissue, other), metastases (soft tissue).\nIf site(s) are unclear or multiple, include all explicitly mentioned locations.\n\nC. AWD - Localised tumor:\nUse template (3) if a tumor or local recurrence is present but no metastases are described.\n\nD. Strict output format:\nDo not add explanations or free text. Only return the structured annotation.\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "PatientFollowUp.statusAtLastFollowUp",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "PatientFollowUp",
            "field_name": "statusAtLastFollowUp"
          }
        ]
      }
    },
    "radiotherapy_end": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\npost-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].\n\nNotes:\nIf the date is missing, output [put date].\nIf the reason is missing, output [select reason].\nIf the dose is missing, output [put total dose].\nIf the number is missing, output [put number of].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[put total dose]",
            "entity_type": "Radiotherapy",
            "field_name": "totalDoseGy"
          },
          {
            "template_placeholder": "[put number of]",
            "entity_type": "Radiotherapy",
            "field_name": "numberOfFractions"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "endDate"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "Radiotherapy",
            "field_name": "rtTreatmentCompletedAsPlanned?"
          }
        ]
      }
    },
    "chemotherapy_end": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\npre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\npost-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]\n\nNotes:\nIf the date is missing, output [provide date].\nIf the reason is missing, output [select reason].\nIf the number of cycles is missing, output [provide number].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "SystemicTreatment",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[provide date]",
            "entity_type": "SystemicTreatment",
            "field_name": "endDateSystemicTreatment"
          },
          {
            "template_placeholder": "[provide number]",
            "entity_type": "SystemicTreatment",
            "field_name": "numberOfCycles/Administrations"
          },
          {
            "template_placeholder": "[select reason]",
            "entity_type": "SystemicTreatment",
            "field_name": "reasonForEndOfTreatment"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "SystemicTreatment",
            "field_name": "setting"
          }
        ]
      }
    },
    "biopsygrading": {
      "template": "Task: You are a medical text annotation assistant.\nYour task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.\n\nOutput strictly in the following format:\nBiopsy grading (FNCLCC): [value].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Diagnosis.biopsyGrading",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[value]",
            "entity_type": "Diagnosis",
            "field_name": "grading"
          }
        ]
      }
    },
    "radiotherapy_start": {
      "template": "Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.\n\nFormats:\n[select type] radiotherapy ([select method]) with [select intention] intention started [please select where] on [put date]\n\nNotes:\nIf the date is missing, output [put date].\nIf the place is missing, output [please select where].\nIf the intention is missing, output [select intention].\nIf the type is missing, output [select type].\n# Reasoning Requirements (Traceability)\nFor every entity extracted, you MUST follow this internal logic:\n1. **Evidence**: Locate the exact literal phrase or sentence from the note.\n2. **Clinical Validation**: Determine if the finding is current, a past medical history (PMH), or a suspicion.\n3. **Inference**: Explain the logic used to map the natural language to the standard value (e.g., mapping \"Ductal\" to \"Infiltrating duct carcinoma\").\nGenerate the response in a structured JSON format. Ensure the `reasoning` and `evidence` fields are populated BEFORE the final values to ensure high-fidelity deduction.\n\n---\n\nHere are few examples for your understanding:\n{few_shot_examples}\n\n---\n\nNow process the following note in the same way:\n\n### Input:\n- Medical Note: \"{{note_original_text}}\"\n\n### Response:\nAnnotation: {{annotation}}",
      "entity_mapping": {
        "entity_type": "Radiotherapy",
        "fact_trigger": null,
        "field_mappings": [
          {
            "template_placeholder": "[select intention]",
            "entity_type": "Radiotherapy",
            "field_name": "intent"
          },
          {
            "template_placeholder": "[please select where]",
            "entity_type": "Radiotherapy",
            "field_name": "radiotherapyHospital"
          },
          {
            "template_placeholder": "[put date]",
            "entity_type": "Radiotherapy",
            "field_name": "startDate"
          },
          {
            "template_placeholder": "[FULL_ANNOTATION]",
            "entity_type": "Radiotherapy",
            "field_name": "setting"
          }
        ]
      }
    }
  }
}